<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GHERVE</title>
    <link rel="stylesheet" href="css/index.css">
</head>

<body data-barba="wrapper">
  <main data-barba="container" data-barba-namespace="home">
    <nav class="navbar">
      <button aria-expanded="false" class="mobile-nav-toggle">&#9776</button>
      <ul data-visible="false" >
        <li><a href="#">Home</a></li>
        <li><a href="playground.html">Playground</a></li>
        <li><a href="#">Projects</a></li>
        <li><a href="contact">Contact</a></li>
      </ul>
    </nav>
    <!-- code for menu lines: &#9776;
     code for cross: &#10005; -->

    <section class="hero">
        <div class="hero-content">
          <div class="headings">
            <div class="hero-heading">
              <h1 class="gherve">G</h1>
              <h1 class="gherve">H</h1>
              <h1 class="gherve">E</h1>
              <h1 class="gherve">R</h1>
              <h1 class="gherve">V</h1>
              <h1 class="gherve">E</h1>
            </div>
            <!-- <p class="hero-subhead">Your vision, our expertise. Expert web design tailored to your needs.</p> -->
            <div class="hero-keywords">
              <p class="keyword">FRONTEND WEBDEV</p>
              <p class="keyword">RESPONSIVE DESIGN</p>
              <p class="keyword">POWERFUL ANIMATIONS</p>
            </div>
          </div>
          <div class="keyword-carousel">
            <div class="keyword-carousel-inner">
              <svg id="marquee" style="margin-right: 40px;" xmlns="http://www.w3.org/2000/svg" width="1570" height="200">
                <text x="0" y="150" stroke="white" class="wort">DEV</text>
                <text x="470" y="150" stroke="white" class="wort">CODE</text>
                <text x="1110" y="150" stroke="white" class="wort">WEB</text>
              </svg>
              <svg id="marquee" xmlns="http://www.w3.org/2000/svg" width="1570" height="200">
                <text x="0" y="150" stroke="white" class="wort">DEV</text>
                <text x="470" y="150" stroke="white" class="wort">CODE</text>
                <text x="1110" y="150" stroke="white" class="wort">WEB</text>
              </svg>
            </div>
          </div>
        </div>
      </section>

    <section class="hero-sub-section">
    </section>

    <section class="section2">
      <div class="whatweoffer">
        <div class="heading-offer">WHAT WE OFFER</div>
        <div class="offer-container">
          <div class="offer-item">
            <h1>Custom Websites</h1>
            <p>We craft custom websites that are more than just responsive - they're strategic experiences tailored to your brand's DNA.  We work closely with you to understand your target audience, business goals, and competitive landscape. This allows us to design websites that not only look stunning, but also Drive User Engagement and Amplify your Brand Identity.</p>
          </div>
          <div class="offer-item">
            <h1>Adaptable Interfaces</h1>
            <p>We create websites that bend but don't break. Our adaptable interfaces adjust and reconfigure for any screen size, ensuring your content remains clear, accessible, and engaging for users on the go.</p>
          </div>
          <div class="offer-item">
            <h1>Craft, Code, Captivate</h1>
            <p>Using HTML5, CSS3, JavaScript, and Svelte framework combined with GSAP for animation, We build stunning, interactive user interfaces for an engaging experience.</p>
          </div>
      </div>
    </section>

    <section class="section3">
      <div class="heading-playground">Check out some sample User Interactive elements!</div>
      <button class="playground-button" onclick="window.location.href='playground.html'">Playground</button>
    </section>

    <footer>
      <div class="footer-content">
        <div class="footer-logo">
          <div class="title">GHERVE</div>
          <div class="email">gherve.dev@gmail.com</div>
        </div>
        <div class="footer-links">
          <a href="#home">Home</a>
          <a href="playground.html" target="_blank">Playground</a>
          <a href="#about">Contact</a>
        </div>
        <div class="footer-socials">
          <a href="" target="_blank"><img src="" alt="linkedin"></a>
          <a href="" target="_blank"><img src="" alt="github"></a>
        </div>
      </div>
    </footer>
  </main>
</body>
</html>

<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/ScrollTrigger.min.js"></script>

<script>
    gsap.registerPlugin(ScrollTrigger);

    var heroSubSection = document.querySelector('.hero-sub-section');
    const heroSSHeight= heroSubSection.offsetHeight;
    const heroSSWidth= heroSubSection.offsetWidth;

    // hero sub section
    window.addEventListener('DOMContentLoaded', () => {
      const rectWidth= heroSSWidth;
      const rectHeight= 100;
      let svgns = "http://www.w3.org/2000/svg";
      let svgElem = document.createElementNS(svgns, "svg");
      svgElem.setAttributeNS(null, "height", heroSSHeight);
      svgElem.setAttributeNS(null, "width", heroSSWidth);
      const keywords = ['INNOVATIVE', 'TRANSFORMATIVE', 'COHESIVE'];
      
      let currentHeight = 0;
      const gap = 3; // adjust this value to change the gap between rectangles
      let index = 0;

      while (currentHeight +gap < heroSSHeight) {
        let txt = document.createElementNS(svgns, 'text');
        let group = document.createElementNS(svgns, 'g');
        let rect = document.createElementNS(svgns, 'rect');
        let txt2 = document.createElementNS(svgns, 'text');
        
        rect.setAttributeNS(null, 'height', rectHeight);
        rect.setAttributeNS(null, 'width', rectWidth);
        rect.setAttributeNS(null, 'fill', 'black');
        rect.setAttributeNS(null, 'y', 0); // set y to 0 because it's now relative to the group
      
        txt2.setAttributeNS(null, 'fill', 'white');
        txt2.setAttributeNS(null, 'y', -rectHeight/2); // set y to -rectHeight/2 because it's now relative to the group
        txt2.setAttributeNS(null, 'x', rectWidth/2);
        txt2.setAttributeNS(null, 'text-anchor', 'middle');
        txt2.setAttributeNS(null, 'font-size', '30');
        txt2.setAttributeNS(null, 'class', 'text2');
        txt2.textContent = keywords[index];
      
        group.setAttributeNS(null, 'transform', `translate(0, ${currentHeight})`); // set the group's y position to currentHeight
      
        group.appendChild(rect);
        // group.appendChild(txt2);
        
        
        txt.setAttributeNS(null, 'fill', 'black');
        txt.setAttributeNS(null, 'y', currentHeight+rectHeight/2);
        txt.setAttributeNS(null, 'x', rectWidth/2);
        txt.setAttributeNS(null, 'text-anchor', 'middle');
        txt.setAttributeNS(null, 'font-size', '30');
        txt.setAttributeNS(null, 'class', 'text1');
        txt.textContent = keywords[index];
        index = (index+1)%keywords.length;
          
        svgElem.appendChild(txt);
        currentHeight += rectHeight + gap;
        svgElem.appendChild(group);
      }
      heroSubSection.appendChild(svgElem);

      //hero sub section animation
      gsap.from('.hero-sub-section svg rect', {
        scrollTrigger: {
          trigger: '.hero-sub-section',
          start: 'top bottom',
          end: 'bottom top',
          scrub: 1,
          // markers: true
        },
        opacity: 0,
        y: heroSSHeight,
        stagger: 0.1
      });
      gsap.from('.hero-sub-section svg .text1', {
        scrollTrigger: {
          trigger: '.hero-sub-section',
          start: 'top bottom',
          end: 'bottom top',
          scrub: 1,
        },
        y: heroSSHeight,
        stagger: 0.5
      });
    });

    //navbar listener
    window.addEventListener('wheel', (event) => {
      if (window.innerWidth< 850) return;
      if (event.deltaY>0) {
        document.querySelector('.navbar').classList.add('hide');
      }
      else {
        document.querySelector('.navbar').classList.remove('hide');
      }
    })

    const primary_nav = document.querySelector('.navbar ul');
    const nav_toggle = document.querySelector('.mobile-nav-toggle');

    nav_toggle.addEventListener('click', () => {
        const visibility = primary_nav.getAttribute('data-visible');
        
        if (visibility === "false") {
            primary_nav.setAttribute('data-visible', "true");
            nav_toggle.setAttribute('aria-expanded', "true");
            nav_toggle.innerHTML = '&#10005;';
        } else if (visibility === "true") {
            primary_nav.setAttribute('data-visible', "false");
            nav_toggle.setAttribute('aria-expanded', "false");
            nav_toggle.innerHTML = '&#9776;';
        }
    });

    let navElements = document.querySelectorAll('.primary-navigation a');
    navElements.forEach((element) => {
        element.addEventListener('click', () => {
            primary_nav.setAttribute('data-visible', "false");
            nav_toggle.setAttribute('aria-expanded', "false");
        });
    })

    //marquee
    const marquee = document.querySelector('.keyword-carousel-inner');
    marquee.innerHTML += marquee.innerHTML;
    const totalWidth = marquee.offsetWidth / 2;

    gsap.to(marquee, {
      x: -totalWidth,
      duration: 13,
      repeat: -1,
      ease: "none",
      modifiers: {
        x: gsap.utils.unitize(x => parseFloat(x) % totalWidth)
      }
    });

    /* WHAT WE OFFER SCRIPT */

    var windowSize = document.documentElement.clientWidth;
    document.querySelectorAll('.offer-item').forEach(item => {
      if (windowSize < 1100) return;
      let info = item.querySelector('p')
      let heading = item.querySelector('h1')
      item.addEventListener('mouseenter', () => {
        let tl =gsap.timeline();
        tl.to(info, {
          duration: 0.5,
          x: 0
        }).to(heading, {
          duration: 0.5,
          x: '-100vw'
        }, '-=0.5')
      })
      item.addEventListener('mouseleave', () => {
        let tl =gsap.timeline();
        tl.to(info, {
          duration: 0.5,
          x: '100vw'
        }).to(heading, {
          duration: 0.5,
          x: 0
        }, '-=0.5')
      })
    })

    window.addEventListener('resize', ()=> {
      windowSize = document.documentElement.clientWidth
    })

    // playground section
    gsap.to('.section3', {
      scrollTrigger: {
        trigger: '.section3',
        start: 'top bottom',
        end: '80% bottom',
        scrub: 1,
        // markers: true
      },
      backgroundColor: 'black',
      transform: 'translateX(0)'
    })

</script>